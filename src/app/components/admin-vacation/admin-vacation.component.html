<div class="container">

<section class=" w-100 bg-white my-5 rounded-3 vh-80 shadow-lg py-5 p-sm-5">
    <h1 class="text-center py-5 fw-bolder"> ادارة الطلبات</h1>



<!-- the table header -->
<div class=" arabicList">
    <div class="ordersHead rounded-top-1  w-100 py-3">
        <div class="row">
            <div class="col-md-3  text-center">
                <p class="p-0 my-0 ">اسم الموظف </p>
            </div>
            <div class="col-md-3 text-center">
                <p class="p-0 my-0"> رقم الطلب </p>
            </div>
            <div class="col-md-3 text-center ">
                <p class="p-0 my-0 px-5 ">نوع الاجازة
                </p>
            </div>
            <div class="col-md-3 text-center">
                <p class="p-0 my-0">تاريخ البدء </p>
            </div>
        </div>
    </div>
</div>

<!-- the row of each employee -->
<div class="accordion arabicList overflow-hidden" id="accordionExample">

    <!-- one employee -->
    <div id="oneItem" #oneItem class="accordion-item rounded-0 " *ngFor="let order of vacationOrdersList.reverse()">
        <h2 class="accordion-header ">
            <div class="accordion-button collapsed " type="button" data-bs-toggle="collapse"
                [attr.data-bs-target]="'#'+order.id" aria-expanded="false" [attr.aria-controls]="order.id">
                <div class=" py-2 px-0 d-flex w-100 row ">
                    <p class=" my-0 col-md-3 fw-bolder text-center"> {{order.employeeName}} </p>
                    <p class=" my-0 col-md-3 fw-bolder  text-center">#{{order.id}} </p>
                    <p *ngIf="order.vacationType=='Personal'" class=" my-0 col-md-3 fw-bolder text-center">اجازة شخصية
                    </p>
                    <p *ngIf="order.vacationType=='SickLeave'" class=" my-0 col-md-3 fw-bolder text-center">اجازة مرضية
                    </p>
                    <p *ngIf="order.vacationType=='Annual'" class=" my-0 col-md-3 fw-bolder text-center">اجازة عامة</p>
                    <p class=" my-0 col-md-3 fw-bolder  text-center">{{order.startDate | date : 'yyyy/MM/dd'}}</p>
                </div>
            </div>
        </h2>
        <div [id]="order.id" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
            <div class="accordion-body p-0">


                <div>
                    <p class=" orderNumber my-0 d-inline-block bg-white px-2 mx-3 rounded "> رقم الطلب :
                        {{order.id}}
                    </p>
                    <div
                        class="parentOfOrders mx-0 w-100  rounded border row d-flex justify-content-center align-items-center overflow-hidden ">


                        <div class="col-md-4">
                            <div class=" w-100 border-start noBorder-mobile">
                                <p class="my-0 "> اسم الموظف : <span class="my-0 small "> {{order.employeeName}} </span>
                                </p>
                                <p class="my-0"> كود الموظف : {{order.employeeId }} </p>
                                <p class=" my-0"> تفاصيل اخري :
                                    <span class="fw-light"> {{order.details }} </span>
                                </p>
                            </div>

                        </div>
                        <div class="col-md-3">
                            <div class=" w-100 border-start noBorder-mobile">
                                <p class="my-0 "> مدة الاجازة : {{order.numberOfDays}} </p>
                                <p class="my-0"> تاريخ البدء : {{order.startDate | date : 'yyyy/MM/dd'}} </p>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class=" w-100 noBorder-mobile">
                                <p class="my-0"> ايام مستحقة : 21 </p>
                                <p *ngIf="order.vacationType=='Personal'" class="my-0 fw-lighter"> نوع الاجازة : اجازة
                                    شخصية </p>
                                <p *ngIf="order.vacationType=='Annual'" class="my-0 fw-lighter"> نوع الاجازة : اجازة
                                    عامة </p>
                                <p *ngIf="order.vacationType=='SickLeave'" class="my-0 fw-lighter"> نوع الاجازة : اجازة
                                    مرضية </p>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class=" w-100 mx-auto p-1 text-center ">
                                <button (click)="actionRequest(order.id,true,detailsInput.value , oneItem)" class="btn btn-success my-1 w-100"> قبول </button>
                                <button (click)="actionRequest(order.id ,false , detailsInput.value ,oneItem)" class="btn btn-danger my-1 w-100"> رفض </button>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class=" w-100 mx-auto pb-1 text-center ">
                                <input #detailsInput type="text" class="form-control" placeholder=" اضف ملاحظاتك هنا . . ">
                            </div>

                        </div>





                    </div>
                </div>
            </div>
        </div>
    </div>

</div>



</section>

</div>