<section class="bg-test2 w-100 vh-80 p-3 position-relative">
    <div class=" w-100 h-100  ">

        <div [formGroup]="searchingForm" class="custom-bar py-3 ">
            <div class="row  position-relative">
                <div class="col-md-6 mx-auto ">
                    <div class="input-group mx-auto w-70-mobile ">
                        <input formControlName="searchInput" type="text" class="form-control  "
                            aria-label="Text input with dropdown button" placeholder="search . . ">

                        <button class="btn btn-dark rounded-end dropdown-toggle z-0" type="button"
                            data-bs-toggle="dropdown" aria-expanded="false">
                             {{groubNameKey? groubNameKey : searchCategory}} </button>
                        <div class="  py-0 dropdown-menu dropdown-menu-start ">
                            <div class="d-flex">
                                <div class="">
                                    <p class="text-center">search by</p>
                                    <ul class="arabicList list-unstyled text-center px-1 w-100 px-3">
                                        <li>
                                            <div class="px-2">
                                                <input checked (click)="setSearchKey('الاسم')" type="radio" name="key"
                                                    id="key1" value="" class="form-check-input border-secondary">
                                                <label for="key1" class="small px-1">{{'Dashboard.الاسم' |
                                                    translate}}</label>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="px-2">
                                                <input (click)="setSearchKey('الرقم التعريفي')" type="radio" name="key"
                                                    id="key1" value="" class="form-check-input border-secondary">
                                                <label for="key1"
                                                    class="small {{ 'padding_3Eng_1Ar' | translate}} ">{{'Dashboard.الكود'
                                                    | translate}}</label>
                                            </div>
                                        </li>

                                        <li>
                                            <hr />
                                        </li>

                                        <li>
                                            <div class="px-2">
                                                <input (change)="setAssignedWork($event)" type="checkbox" id="key1"
                                                    value="" class="form-check-input border-secondary">
                                                <label for="key1" class="small px-1">
                                                    علي رأس العمل
                                                </label>
                                            </div>
                                        </li>

                                    </ul>
                                </div>



                                <div class="border-start  text-center">
                                    <p class="text-center">groub by</p>
                                    <ul class="arabicList list-unstyled px-3 w-100">
                                        <li (click)="setSearchCategory('موظف' , '')"><a class="dropdown-item">
                                                {{'Dashboard.موظفين' | translate}}
                                                <span *ngIf="searchCategory == 'موظف'"><i
                                                        class="fa-solid fa-square-check px-1"></i></span> </a> </li>

                                        <li (click)="setSearchCategory('فرع' , 'Branch')">
                                            <a class="dropdown-item">
                                                {{'Dashboard.فروع' | translate}}
                                                <span *ngIf="groubNameKey == 'Branch'">
                                                    <i class="fa-solid fa-square-check px-1"></i>
                                                </span>
                                            </a>
                                        </li>

                                        <li (click)="setSearchCategory('فرع' , 'Manage')"><a
                                                class="dropdown-item">{{'Dashboard.ادارات' | translate}}
                                                <span *ngIf="groubNameKey == 'Manage'"><i
                                                        class="fa-solid fa-square-check px-1"></i></span> </a>
                                        </li>

                                        <li (click)="setSearchCategory('فرع' , 'Job')"><a class="dropdown-item">
                                                {{'Dashboard.وظائف' | translate}}
                                                <span *ngIf="groubNameKey == 'Job'"><i
                                                        class="fa-solid fa-square-check px-1"></i></span> </a>
                                        </li>

                                        <li (click)="setSearchCategory('فرع' , 'Company')"><a
                                                class="dropdown-item">{{'Dashboard.شركات' | translate}}
                                                <span *ngIf="groubNameKey == 'Company'"><i
                                                        class="fa-solid fa-square-check px-1"></i></span> </a>
                                        </li>

                                        <li (click)="setSearchCategory('فرع' , 'Department')"><a
                                                class="dropdown-item">{{'Dashboard.اقسام' | translate}}
                                                <span *ngIf="groubNameKey == 'Department'"><i
                                                        class="fa-solid fa-square-check px-1"></i></span> </a>
                                        </li>

                                        <li (click)="setSearchCategory('فرع' , 'Kafil')"><a
                                                class="dropdown-item">{{'Dashboard.كفيل' | translate}}
                                                <span *ngIf="groubNameKey == 'Kafil'"><i
                                                        class="fa-solid fa-square-check px-1"></i></span> </a>
                                        </li>

                                        <li (click)="setSearchCategory('فرع' , 'Nation')"><a
                                                class="dropdown-item">{{'Dashboard.جنسية' | translate}}
                                                <span *ngIf="groubNameKey == 'Nation'"><i
                                                        class="fa-solid fa-square-check px-1"></i></span> </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!-- send to excel -->
                        <div (click)="openExcelModal()" *ngIf="selectedNumber > 0  || selectedGrNumber > 0"
                            class=" mx-2 bg-white full-flex rounded-1 cursor-pointer position-relative">
                            <i class=" px-2 fa-solid fa-floppy-disk fa-xl"></i>
                            <span class="iconNumber bg-danger px-1 full-flex py-0 my-0">
                                <span *ngIf="selectedNumber > 0 "> {{selectedNumber}} </span>
                                <span *ngIf="selectedGrNumber > 0"> {{selectedGrNumber}} </span>
                            </span>
                        </div>
                    </div>
                </div>

                <div class="full-flex switchView">
                    <div class=" py-0 my-0 ms-auto ">
                        <span (click)="cardsView()"
                            [ngClass]="{ 'bg-white' : displayCards , 'bg-secondary-subtle' : displayRows}"
                            class="p-2  rounded-start my-0 cursor-pointer ">
                            <i class="fa-regular fa-address-card fa-xl cursor-pointer"></i>
                        </span>
                        <span (click)="tableView()"
                            [ngClass]="{ 'bg-white' : displayRows , 'bg-secondary-subtle' : displayCards}"
                            class="p-2  rounded-end my-0 cursor-pointer">
                            <i class="fa-solid fa-table-list fa-xl cursor-pointer"></i>
                        </span>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <!-- side list -->
            <div *ngIf="displayCards" class="col-lg-2  position-relative p-0">
                <div class="sideBar-manages col-lg-2 mx-0 px-1">
                    <div class=" fw-semibold  rounded-2 rounded overflow-hidden manageDiv ">

                        <p class=" bg-dark-subtle englishFont text-center my-0 py-3">Management
                            <i class="fa-solid fa-layer-group"></i>
                        </p>

                        <div class="bg-white sideFlow">
                            <ul class="list-unstyled department-List  px-xl-2 mt-1 ">
                                <li (click)="getOneManage('')"><span>{{'Dashboard.الكل' | translate}}</span></li>
                                <li (click)="getOneManage(manage.id)" [id]="manage.id"
                                    *ngFor="let manage of managementList">
                                    <span>{{manage.nameAr }}</span>
                                </li>

                                <!-- <li class="bg-active "><span>store </span> </li> -->

                            </ul>
                        </div>
                    </div>
                </div>
            </div>



            <!-- main content -->

            <!-- ============ ----------- start all Employee ----------- ============ -->
            <!-- Cards -->
            <div *ngIf="searchCategory == 'موظف' && displayCards " class=" col-lg-10 ">
                <p> عدد الموظفين : {{employeeList.length}}</p>
                <div *ngIf="employeeList.length > 0 " class="emp-cards row g-3 ">
                    <div class="col-md-6 col-lg-4 col-xl-3 " *ngFor="let item of paginatedResults; let i = index ">
                        <div (click)="getEmpDetails(item.employeeId)"
                            class=" bg-white position-relative employee-card w-100 rounded full-flex flex-column h-100">
                            <!-- <div class="full-flex pt-2"> <p [style.background-color]="randomColor[i]" class=" one-character" > أ </p> </div> -->
                            <div class="full-flex pt-2 one-character">
                                <img src="./assets/images/compressed-images/wepb/145857007_307ce493-b254-4b2d-8ba4-d12c080d6651.webp"
                                    class="w-100" alt="">
                            </div>
                            <div class="text-center">
                                <!-- <p class="font-w-500 englishFont my-1">Ahmed mohamed ali</p> -->
                                <!-- <p  class="font-w-500 englishFont my-1">{{item.employeeNameEn}}</p> -->
                                <p class=" my-1 {{ 'lang-arabic' | translate}}   ">{{item.employeeNameAr}}</p>
                                <p class=" my-1 font-w-500 englishFont {{ 'lang-english' | translate}}   ">
                                    {{item.employeeNameEn }} </p>
                                <p *ngIf="!item.employeeNameEn"
                                    class=" font-w-500 englishFont my-1 {{ 'lang-english' | translate}}   ">
                                    {{item.employeeNameAr}}</p>

                                <p *ngIf="item.jobNameAr"
                                    class=" {{ 'lang-arabic' | translate}}   fw-medium arabicFont mb-2 small">
                                    {{item.jobNameAr}}
                                </p>
                                <p *ngIf="!item.jobNameAr"
                                    class=" {{ 'lang-arabic' | translate}}   fw-medium arabicFont mb-2 small">غير متوفر
                                </p>



                                <p *ngIf="item.jobNameEn" class="  {{ 'lang-english' | translate}}  fw-light  mb-2 ">
                                    {{item.jobNameEn}}
                                </p>
                                <p *ngIf="!item.jobNameEn" class=" {{ 'lang-english' | translate}}   fw-light mb-2 ">not
                                    found
                                </p>





                            </div>
                            <p class="fw-semibold text-muted  englishFont  mb-2 small opacity-50 empId-Card">
                                {{item.employeeId}} </p>
                        </div>
                    </div>
                </div>

                <!-- ==========  not found  ========== -->
                <div *ngIf="noEmplyeFound" class="py-5 bg-white rounded-3">
                    <p class="fs-3 my-5 text-center">
                        بيانات البحث غير مطابقة لأي موظف
                    </p>
                </div>

                <!-- loading content ---- (show only when data is loading) -->
                <div *ngIf="loadingData" class="emp-cards row g-3 ">
                    <div class="col-md-6 col-lg-4 col-xl-3 " *ngFor="let item of tempList ; let i = index ">
                        <div class=" bg-white employee-card w-100 rounded full-flex flex-column">
                            <div class="full-flex pt-2 one-character">
                                <content-loader viewBox="0 0 200 200" [speed]="1" backgroundColor="#f2f2f2"
                                    foregroundColor="#e8e8e8">
                                    <svg:circle cx="96" cy="101" r="84" />
                                </content-loader>
                            </div>
                            <div class="text-center  mt-1 w-75">
                                <content-loader viewBox="0 0 300 40" [speed]="1" backgroundColor="#f2f2f2"
                                    foregroundColor="#e8e8e8">
                                    <svg:rect x="2" y="3" rx="0" ry="0" width="292" height="32" />
                                </content-loader>
                            </div>
                            <div class="text-center  mb-1 w-50">
                                <content-loader viewBox="0 0 300 25" [speed]="1" backgroundColor="#f2f2f2"
                                    foregroundColor="#e8e8e8">
                                    <svg:rect x="2" y="3" rx="0" ry="0" width="292" height="25" />
                                </content-loader>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

            <!-- Row -->
            <div *ngIf="searchCategory == 'موظف' &&  displayRows " class=" col-lg-12 ">
                <div *ngIf="!loadingData" class="table-responsive bg-white rounded-3 {{ 'direction' | translate }}">
                    <table class="table table-bordered ">
                        <thead>
                            <tr>
                                <th class="py-3 text-center ">
                                    <div>
                                        <input [checked]="selectedEmployees.length == employeeList.length"
                                            type="checkbox" class="form-check form-check-input"
                                            (click)="allEmployeeListId($event)">
                                    </div>
                                </th>
                                <th class="py-3 text-center "></th>
                                <th class="py-3 text-center  ">
                                    id
                                </th>
                                <th class="py-3 text-center ">{{ 'display_time_sheet.name' | translate }}</th>
                                <th class="py-3 text-center  my-0">
                                    <select class="form-select text-center border-0 w-auto mx-auto fw-bold py-0 my-0 "
                                        aria-label="Default select example" (change)="avctiveFilter( 'job' , $event)">
                                        <option disabled selected class=""> الوظيفة
                                        </option>
                                        <option> all </option>
                                        <option *ngFor="let item of JobList" [id]="item">

                                            <span *ngIf="item"> {{item}} </span>

                                            <span *ngIf="item == null"> بدون </span>
                                            <span *ngIf="item == ' ' "> فارغ </span>
                                        </option>
                                    </select>
                                </th>

                                <th class="py-3 text-center  my-0">
                                    <select class="form-select text-center border-0 w-auto mx-auto fw-bold py-0 m-0"
                                        aria-label="Default select example"
                                        (change)="avctiveFilter( 'company' , $event) ">
                                        <option disabled selected class=""> الشركة </option>
                                        <option> all </option>
                                        <option *ngFor="let item of CompanyList" [id]="item">
                                            <span *ngIf="item"> {{item}} </span>
                                            <span *ngIf="item == null "> بدون </span>
                                            <span *ngIf="item == ' ' "> فارغ </span>
                                        </option>

                                    </select>
                                </th>

                                <th class="py-3 text-center  my-0">
                                    <select class="form-select text-center border-0 w-auto mx-auto fw-bold py-0 m-0"
                                        aria-label="Default select example"
                                        (change)="avctiveFilter( 'branch' , $event) ">
                                        <option disabled selected class=""> الفرع </option>
                                        <option> all </option>
                                        <option *ngFor="let item of branchList" [id]="item">
                                            <span *ngIf="item"> {{item}} </span>
                                            <span *ngIf="item == null "> بدون </span>
                                            <span *ngIf="item == ' ' "> فارغ </span>
                                        </option>
                                    </select>
                                </th>


                                <th class="py-3 text-center  my-0">
                                    <select class="form-select text-center border-0 w-auto mx-auto fw-bold py-0 m-0"
                                        aria-label="Default select example" (change)="avctiveFilter( 'age' , $event) ">
                                        <option disabled selected class=""> العمر </option>
                                        <option> all </option>
                                        <option *ngFor="let item of ageList " [id]="item">
                                            <span *ngIf="item"> {{item}} </span>
                                            <span *ngIf="item == null "> بدون </span>
                                            <span *ngIf="item == ' ' "> فارغ </span>
                                        </option>
                                    </select>
                                </th>


                                <th class="py-3 text-center  my-0">
                                    <select text-center class="form-select border-0 w-auto mx-auto fw-bold py-0 m-0"
                                        aria-label="Default select example"
                                        (change)="avctiveFilter( 'nation' , $event) ">
                                        <option disabled selected class=""> الجنسية </option>
                                        <option> all </option>
                                        <option value="سعودي"> سعودي </option>
                                        <option value="non-Saudi"> غير سعودي </option>
                                        <option *ngFor="let item of nationalityList" [id]="item">
                                            <span *ngIf="item && item != 'سعودي'"> {{item}} </span>
                                            <span *ngIf="item == null "> بدون </span>
                                        </option>
                                    </select>
                                </th>


                                <th class="py-3 text-center  my-0">
                                    <select text-center class="form-select border-0 w-auto mx-auto fw-bold py-0 m-0"
                                        aria-label="Default select example"
                                        (change)="avctiveFilter( 'gender' , $event) ">
                                        <option disabled selected class=""> النوع </option>
                                        <option> all </option>
                                        <option value="0"> رجل </option>
                                        <option value="1"> امرأة </option>
                                    </select>
                                </th>
                            </tr>
                        </thead>

                        <tbody *ngIf="employeeList.length > 0 ">
                            <tr *ngFor="let item of paginatedResults; let myIi = index">
                                <td class="py-2 w-auto text-center ">
                                    <div>
                                        <input [checked]="selectedEmployees.includes(item.employeeId)" type="checkbox"
                                            class="form-check form-check-input"
                                            (click)="selectRow($event , item.employeeId)">
                                    </div>
                                </td>
                                <td
                                    class="fw-lighter text-center number-Width align-middle text-muted opacity-50 small">
                                    <span>{{ (currentPage-1) * 100 + myIi +1 }}</span>
                                </td>

                                <td class="py-2 idwidth englishFont text-center font-w-500">
                                    <span>{{ item.employeeId }}</span>
                                </td>

                                <td class="py-2 arabicFont name-Width personTd">
                                    <div class="d-flex justify-content-start align-items-center">
                                        <div class="greenDot px-1 me-2"></div>
                                        <span class="px-1 empcolor  {{ 'lang-arabic' | translate}} ">{{
                                            item.employeeNameAr
                                            }}</span>
                                        <span class="px-1 empcolor   {{ 'lang-english' | translate}} ">{{
                                            item.employeeNameEn
                                            }}</span>
                                    </div>
                                </td>
                                <td class="py-2 font-w-500 englishFont text-center w-auto">
                                    <span>{{ item.jobNameAr }}</span>
                                </td>

                                <td class="py-2 font-w-500 englishFont text-center w-auto">
                                    <span>{{ item.companyNameAr}}</span>
                                </td>

                                <td class="py-2 font-w-500 englishFont text-center w-auto">
                                    <span>{{ item.branchNameAr}}</span>
                                </td>

                                <td class="py-2 font-w-500 englishFont text-center w-auto">
                                    <span>
                                        {{ item.age }}
                                    </span>
                                </td>

                                <td class="py-2 font-w-500 englishFont text-center w-auto">
                                    <span>
                                        {{ item.nationNameAr }}
                                    </span>
                                </td>

                                <td class="py-2 font-w-500 englishFont text-center w-auto">
                                    <span *ngIf=" item.gender == 0">
                                        رجل
                                    </span>
                                    <span *ngIf=" item.gender == 1">
                                        امرأة
                                    </span>

                                </td>


                            </tr>


                        </tbody>

                    </table>
                </div>


                <!-- ----   loading row ----   (show only when data is loading)  ------  -->
                <div *ngIf="loadingData" class="table-responsive bg-white rounded-3 {{ 'direction' | translate }}">
                    <table class="table table-bordered ">
                        <thead>
                            <tr>
                                <th class="py-3 text-center "></th>
                                <th class="py-3 text-center  ">
                                    id
                                </th>
                                <th class="py-3 text-center ">{{ 'display_time_sheet.name' | translate }}</th>
                                <th class="py-3 text-center  my-0">
                                    <select class="form-select text-center border-0 w-auto mx-auto fw-bold py-0 my-0 ">
                                        <option disabled selected class=""> الوظيفة
                                        </option>
                                    </select>
                                </th>

                                <th class="py-3 text-center  my-0">
                                    <select class="form-select text-center border-0 w-auto mx-auto fw-bold py-0 m-0"
                                        aria-label="Default select example">
                                        <option disabled selected class=""> الشركة </option>
                                    </select>
                                </th>

                                <th class="py-3 text-center  my-0">
                                    <select class="form-select text-center border-0 w-auto mx-auto fw-bold py-0 m-0"
                                        aria-label="Default select example">
                                        <option disabled selected class=""> الفرع </option>
                                    </select>
                                </th>


                                <th class="py-3 text-center  my-0">
                                    <select class="form-select text-center border-0 w-auto mx-auto fw-bold py-0 m-0"
                                        aria-label="Default select example">
                                        <option disabled selected class=""> العمر </option>
                                    </select>
                                </th>


                                <th class="py-3 text-center  my-0">
                                    <select text-center class="form-select border-0 w-auto mx-auto fw-bold py-0 m-0"
                                        aria-label="Default select example">
                                        <option disabled selected class=""> الجنسية </option>
                                    </select>
                                </th>


                                <th class="py-3 text-center  my-0">
                                    <select text-center class="form-select border-0 w-auto mx-auto fw-bold py-0 m-0"
                                        aria-label="Default select example">
                                        <option disabled selected class=""> النوع </option>
                                    </select>
                                </th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr *ngFor="let item of tempList; let myIi = index">
                                <td class="py-2  ">
                                    <content-loader viewBox="0 0 50 40" [speed]="1" backgroundColor="#f2f2f2"
                                        foregroundColor="#e8e8e8">
                                        <svg:rect x="0" y="0" rx="0" ry="0" width="40" height="40" />
                                    </content-loader>
                                </td>

                                <td class="py-2  ">
                                    <content-loader viewBox="0 0 50 40" [speed]="1" backgroundColor="#f2f2f2"
                                        foregroundColor="#e8e8e8">
                                        <svg:rect x="0" y="0" rx="0" ry="0" width="40" height="40" />
                                    </content-loader>
                                </td>

                                <td class="py-2  time-Width">
                                    <content-loader viewBox="0 0 200 40" [speed]="1" backgroundColor="#f2f2f2"
                                        foregroundColor="#e8e8e8">
                                        <svg:rect x="0" y="0" rx="0" ry="0" width="200" height="40" />
                                    </content-loader>
                                </td>
                                <td class="py-2  time-Width">
                                    <content-loader viewBox="0 0 200 40" [speed]="1" backgroundColor="#f2f2f2"
                                        foregroundColor="#e8e8e8">
                                        <svg:rect x="0" y="0" rx="0" ry="0" width="200" height="40" />
                                    </content-loader>
                                </td>

                                <td class="py-2  time-Width">
                                    <content-loader viewBox="0 0 200 40" [speed]="1" backgroundColor="#f2f2f2"
                                        foregroundColor="#e8e8e8">
                                        <svg:rect x="0" y="0" rx="0" ry="0" width="200" height="40" />
                                    </content-loader>
                                </td>

                                <td class="py-2  time-Width">
                                    <content-loader viewBox="0 0 200 40" [speed]="1" backgroundColor="#f2f2f2"
                                        foregroundColor="#e8e8e8">
                                        <svg:rect x="0" y="0" rx="0" ry="0" width="200" height="40" />
                                    </content-loader>
                                </td>

                                <td class="py-2  time-Width">
                                    <content-loader viewBox="0 0 200 40" [speed]="1" backgroundColor="#f2f2f2"
                                        foregroundColor="#e8e8e8">
                                        <svg:rect x="0" y="0" rx="0" ry="0" width="200" height="40" />
                                    </content-loader>
                                </td>

                                <td class="py-2  time-Width">
                                    <span>
                                        <content-loader viewBox="0 0 200 40" [speed]="1" backgroundColor="#f2f2f2"
                                            foregroundColor="#e8e8e8">
                                            <svg:rect x="0" y="0" rx="0" ry="0" width="200" height="40" />
                                        </content-loader>
                                    </span>
                                </td>

                                <td class="py-2  time-Width">
                                    <content-loader viewBox="0 0 200 40" [speed]="1" backgroundColor="#f2f2f2"
                                        foregroundColor="#e8e8e8">
                                        <svg:rect x="0" y="0" rx="0" ry="0" width="200" height="40" />
                                    </content-loader>

                                </td>


                            </tr>


                        </tbody>

                    </table>
                </div>

                <!-- not found data -->
                <div *ngIf=" employeeList.length == 0 && !loadingData" class="py-5 bg-white rounded-3">
                    <p class="fs-3 my-5 text-center">
                        بيانات البحث غير مطابقة لأي موظف
                    </p>
                </div>


            </div>
            <!-- ============ ----------- end all Employee ----------- ============ -->



            <!-- ============ ----------- start all groub ----------- ============ -->
            <div *ngIf="searchCategory == 'فرع' && displayCards " class=" col-lg-10 ">
                <div *ngIf="branchesList.length > 0 " class="emp-cards row g-3 ">
                    <div class="col-md-6 col-lg-4 col-xl-3 " *ngFor="let item of paginatedBranches; let i = index ">
                        <div (click)="getOneGroubDetails(item.id , item.nameAr)"
                            class=" bg-white employee-card position-relative w-100 rounded full-flex flex-column h-100">
                            <!-- <div class="full-flex pt-2"> <p [style.background-color]="randomColor[i]" class=" one-character" > أ </p> </div> -->
                            <div class="full-flex pt-3 p-3 one-character">

                                <img *ngIf="groubNameKey == 'Branch'" src="./assets/images/non-compressed/branch.png"
                                    class="w-100" alt="">

                                <img *ngIf="groubNameKey == 'Job'" src="./assets/images/non-compressed/job.png"
                                    class="w-100" alt="">

                                <img *ngIf="groubNameKey == 'Manage'"
                                    src="./assets/images/non-compressed/team_7286799.png" class="w-100" alt="">

                                <img *ngIf="groubNameKey == 'Nation' &&  item.nameEn !=  null "
                                    src="{{item.nameEn|translate}}" class="w-100 rounded " alt="">

                                <img *ngIf="groubNameKey == 'Nation' && item.nameEn ==  null "
                                    src="./assets/images/non-compressed/otherCountry.webp" class="W-100 flag-img"
                                    [alt]="item.nameEn">



                                <img *ngIf="groubNameKey == 'Kafil'" src="./assets/images/non-compressed/kafil.svg"
                                    class="w-100" alt="">

                                <img *ngIf="groubNameKey == 'Department'"
                                    src="./assets/images/non-compressed/team_7286799.png" class="w-100" alt="">


                                <img *ngIf="groubNameKey == 'Company'" src="./assets/images/non-compressed/branch.png"
                                    class="w-100" alt="">

                            </div>
                            <div class="text-center">
                                <!-- <p class="font-w-500 englishFont my-1">Ahmed mohamed ali</p> -->
                                <!-- <p  class="font-w-500 englishFont my-1">{{item.employeeNameEn}}</p> -->
                                <p class=" my-1 {{ 'lang-arabic' | translate}} ">{{item.nameAr}}</p>
                                <p class=" my-1 {{ 'lang-english' | translate}} ">{{item.nameEn}}</p>
                                <!-- <p class="fw-medium arabicFont small my-0"> </p> -->

                                <p class=" arabicFont mb-2 small"> عدد العاملين :
                                    <span *ngIf="!assignedWork"> {{item.employeesCount}} </span>
                                    <span *ngIf="assignedWork"> {{item.employeesWorkCount}} </span>
                                </p>
                            </div>
                            <p class="fw-semibold text-muted  englishFont  mb-2 small opacity-50 empId-Card">
                                {{item.id}} </p>
                        </div>
                    </div>
                </div>

                <div *ngIf="noBranchFound" class="py-5 bg-white rounded-3">
                    <p class="fs-3 my-5 text-center">
                        بيانات البحث غير مطابقة لأي فرع
                    </p>
                </div>

                <!-- loading content ---- (show only when data is loading) -->
                <div *ngIf="loadingData" class="emp-cards row g-3 ">
                    <div class="col-md-6 col-lg-4 col-xl-3 " *ngFor="let item of tempList ; let i = index ">
                        <div class=" bg-white employee-card w-100 rounded full-flex flex-column">
                            <div class="full-flex pt-2 one-character">
                                <content-loader viewBox="0 0 200 200" [speed]="1" backgroundColor="#f2f2f2"
                                    foregroundColor="#e8e8e8">
                                    <svg:circle cx="96" cy="101" r="84" />
                                </content-loader>
                            </div>
                            <div class="text-center  mt-1 w-75">
                                <content-loader viewBox="0 0 300 40" [speed]="1" backgroundColor="#f2f2f2"
                                    foregroundColor="#e8e8e8">
                                    <svg:rect x="2" y="3" rx="0" ry="0" width="292" height="32" />
                                </content-loader>
                            </div>
                            <div class="text-center  mb-1 w-50">
                                <content-loader viewBox="0 0 300 25" [speed]="1" backgroundColor="#f2f2f2"
                                    foregroundColor="#e8e8e8">
                                    <svg:rect x="2" y="3" rx="0" ry="0" width="292" height="25" />
                                </content-loader>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <div *ngIf="searchCategory == 'فرع' &&  displayRows " class=" col-lg-12 ">

                <!-- main row -->
                <div *ngIf="branchesList.length > 0 "
                    class="table-responsive bg-white rounded-3 {{ 'direction' | translate }}">
                    <table class="table table-hover table-bordered ">
                        <thead>
                            <tr>
                                <th class="py-3 "></th>
                                <th class="py-3 text-center ">
                                    <span><i class="fa-solid fa-list-ol"></i></span>
                                </th>
                                <th class="py-3 text-center  ">
                                    id
                                </th>
                                <th class="py-3 text-center ">{{ 'display_time_sheet.name' | translate }}</th>
                                <th class="py-3 text-center  my-0">
                                    <span>عدد العاملين</span>
                                </th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr *ngFor="let item of paginatedBranches; let myIi = index">
                                <td class="py-2 align-middle text-center selectIcon-width">
                                    <div>
                                        <input [checked]="selectedGroub.includes(item.id)" [disabled]="item.employeesCount==0 || (item.employeesWorkCount == 0 && assignedWork )" type="checkbox"
                                            class="form-check form-check-input mx-auto "
                                            (click)="selectGroub($event , item.id)">
                                    </div>
                                </td>

                                <td
                                    class="fw-lighter text-center number-Width align-middle text-muted opacity-50 small">
                                    <span>{{ (currentPage-1) * 100 + myIi +1 }}</span>
                                </td>

                                <td class="py-2 idwidth englishFont text-center  align-middle  font-w-500">
                                    <span>{{ item.id }}</span>
                                </td>

                                <td class="py-2 arabicFont name-Width personTd cursor-pointer">
                                    <div class="d-flex justify-content-start align-items-center">
                                        <div class="greenDot px-1 me-2"></div>
                                        <option class="fw-bold px-3 py-2 w-100 {{ 'lang-arabic' | translate}} "
                                            (click)="counterRowPageFilter( groubNameKey , $event)"
                                            (click)=" RowDetailsOpenClose()" [value]="item.nameAr">
                                            <span>{{item.nameAr}} </span>
                                        </option>
                                        <option class="fw-bold px-3 py-2 w-100 {{ 'lang-english' | translate}} "
                                            (click)="counterRowPageFilter( groubNameKey , $event)"
                                            (click)=" RowDetailsOpenClose()" [value]="item.nameAr">
                                            <span>{{item.nameEn}} </span>
                                        </option>
                                        <div class="flag-width">
                                            <img *ngIf="groubNameKey == 'Nation' &&  item.nameEn !=  null "
                                                src="{{item.nameEn|translate}}" class="w-100 rounded flag-img"
                                                [alt]="item.nameEn">

                                            <img *ngIf="groubNameKey == 'Nation' && item.nameEn ==  null "
                                                src="./assets/images/non-compressed/otherCountry.webp"
                                                class="W-100 flag-img" [alt]="item.nameEn">
                                        </div>
                                    </div>
                                </td>
                                <td class="py-2 font-w-500 englishFont text-center  align-middle  w-auto">
                                    <span *ngIf="!assignedWork"> {{item.employeesCount}} </span>
                                    <span *ngIf="assignedWork"> {{item.employeesWorkCount}} </span>
                                </td>
                            </tr>
                        </tbody>

                    </table>
                </div>

                <!-- loading groups row -->
                <div *ngIf="loadingData" class="table-responsive bg-white rounded-3 {{ 'direction' | translate }}">
                    <table class="table table-bordered ">
                        <thead>
                            <tr>
                                <th class="py-3 text-center "></th>
                                <th class="py-3 text-center  ">
                                    id
                                </th>
                                <th class="py-3 text-center ">{{ 'display_time_sheet.name' | translate }}</th>
                                <th class="py-3 text-center  my-0">
                                    <span>عدد العاملين</span>
                                </th>
                            </tr>
                        </thead>

                        <tbody>
                            <tr *ngFor="let item of tempList; let myIi = index">
                                <td
                                    class="fw-lighter text-center number-Width align-middle text-muted opacity-50 small">
                                    <content-loader viewBox="0 0 200 40" [speed]="1" backgroundColor="#f2f2f2"
                                        foregroundColor="#e8e8e8">
                                        <svg:rect x="0" y="0" rx="0" ry="0" width="200" height="40" />
                                    </content-loader>
                                </td>

                                <td class="py-2 idwidth englishFont text-center font-w-500">
                                    <content-loader viewBox="0 0 200 40" [speed]="1" backgroundColor="#f2f2f2"
                                        foregroundColor="#e8e8e8">
                                        <svg:rect x="0" y="0" rx="0" ry="0" width="200" height="40" />
                                    </content-loader>
                                </td>

                                <td class="py-2 arabicFont name-Width personTd">
                                    <content-loader viewBox="0 0 100 5" [speed]="1" backgroundColor="#f2f2f2"
                                        foregroundColor="#e8e8e8">
                                        <svg:rect x="0" y="0" rx="0" ry="0" width="100" height="5" />
                                    </content-loader>
                                </td>

                                <td class="py-2 font-w-500 englishFont text-center w-auto">
                                    <content-loader viewBox="0 0 300 40" [speed]="1" backgroundColor="#f2f2f2"
                                        foregroundColor="#e8e8e8">
                                        <svg:rect x="0" y="0" rx="0" ry="0" width="300" height="40" />
                                    </content-loader>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- not found data -->
                <div *ngIf=" branchesList.length == 0 && !loadingData" class="py-5 bg-white rounded-3">
                    <p class="fs-3 my-5 text-center">
                        بيانات البحث غير مطابقة لأي موظف
                    </p>
                </div>



                <!-- details row ( display all employees of this groub ) -->
                <div #rowDetails *ngIf="searchCategory == 'فرع' &&  displayRows && detailsRow "
                    class=" bg-dark p-4 rounded col-lg-12 my-5">

                    <h3 class=" text-center fw-bolder bg-white rounded py-3"> {{OneGroupName}} </h3>

                    <div class="table-responsive bg-white rounded-3 {{ 'direction' | translate }}">
                        <table class="table table-bordered ">
                            <thead>
                                <tr>
                                    <th class="py-3 text-center "></th>
                                    <th class="py-3 text-center  ">
                                        id
                                    </th>
                                    <th class="py-3 text-center  name-Width personTd">{{ 'display_time_sheet.name' |
                                        translate }}</th>
                                    <th class="py-3 text-center  my-0">
                                        <p class="my-0">الوظيفة</p>
                                        <!-- <select
                                            class="form-select text-center border-0 w-auto mx-auto fw-bold py-0 my-0 "
                                            aria-label="Default select example"
                                            (change)="avctiveFilter( 'job' , $event)">
                                            <option disabled selected class=""> الوظيفة
                                            </option>
                                            <option> all </option>
                                            <option *ngFor="let item of JobList" [id]="item">

                                                <span *ngIf="item"> {{item}} </span>

                                                <span *ngIf="item == null"> بدون </span>
                                                <span *ngIf="item == ' ' "> فارغ </span>
                                            </option>
                                        </select> -->
                                    </th>

                                    <th class="py-3 text-center  my-0">
                                        <p class="my-0">الشركة</p>
                                        <!-- <select class="form-select text-center border-0 w-auto mx-auto fw-bold py-0 m-0"
                                            aria-label="Default select example"
                                            (change)="avctiveFilter( 'company' , $event) ">
                                            <option disabled selected class=""> الشركة </option>
                                            <option> all </option>
                                            <option *ngFor="let item of CompanyList" [id]="item">
                                                <span *ngIf="item"> {{item}} </span>
                                                <span *ngIf="item == null "> بدون </span>
                                                <span *ngIf="item == ' ' "> فارغ </span>
                                            </option>

                                        </select> -->
                                    </th>

                                    <th class="py-3 text-center  my-0">
                                        <p class="my-0">الفرع</p>
                                        <!-- <select class="form-select text-center border-0 w-auto mx-auto fw-bold py-0 m-0"
                                            aria-label="Default select example"
                                            (change)="avctiveFilter( 'branch' , $event) ">
                                            <option disabled selected class=""> الفرع </option>
                                            <option> all </option>
                                            <option *ngFor="let item of branchList" [id]="item">
                                                <span *ngIf="item"> {{item}} </span>
                                                <span *ngIf="item == null "> بدون </span>
                                                <span *ngIf="item == ' ' "> فارغ </span>
                                            </option>
                                        </select> -->
                                    </th>


                                    <th class="py-3 text-center  my-0">
                                        <p class="my-0">العمر</p>
                                        <!-- <select class="form-select text-center border-0 w-auto mx-auto fw-bold py-0 m-0"
                                            aria-label="Default select example"
                                            (change)="avctiveFilter( 'age' , $event) ">
                                            <option disabled selected class=""> العمر </option>
                                            <option> all </option>
                                            <option *ngFor="let item of ageList " [id]="item">
                                                <span *ngIf="item"> {{item}} </span>
                                                <span *ngIf="item == null "> بدون </span>
                                                <span *ngIf="item == ' ' "> فارغ </span>
                                            </option>
                                        </select> -->
                                    </th>


                                    <th class="py-3 text-center  my-0">
                                        الجنسية
                                        <!-- <select text-center class="form-select border-0 w-auto mx-auto fw-bold py-0 m-0"
                                            aria-label="Default select example"
                                            (change)="avctiveFilter( 'nation' , $event) ">
                                            <option disabled selected class=""> الجنسية </option>
                                            <option> all </option>
                                            <option *ngFor="let item of nationalityList" [id]="item">
                                                <span *ngIf="item"> {{item}} </span>
                                                <span *ngIf="item == null "> بدون </span>
                                                <span *ngIf="item == ' ' "> فارغ </span>
                                            </option>
                                        </select> -->
                                    </th>


                                    <th class="py-3 text-center  my-0">
                                        <p class="my-0">النوع</p>
                                        <!-- <select text-center class="form-select border-0 w-auto mx-auto fw-bold py-0 m-0"
                                            aria-label="Default select example"
                                            (change)="avctiveFilter( 'gender' , $event) ">
                                            <option disabled selected class=""> النوع </option>
                                            <option> all </option>
                                            <option value="0"> رجل </option>
                                            <option value="1"> امرأة </option>
                                        </select> -->
                                    </th>
                                </tr>
                            </thead>

                            <tbody *ngIf=" employeeList.length > 0">
                                <tr *ngFor="let item of paginatedDetails; let myIi = index">
                                    <td
                                        class="fw-lighter text-center number-Width align-middle text-muted opacity-50 small">
                                        <span>{{ (currentPageDetails-1) * 100 + myIi +1 }}</span>
                                    </td>

                                    <td class="py-2 idwidth englishFont text-center font-w-500">
                                        <span>{{ item.employeeId }}</span>
                                    </td>

                                    <td class="py-2 arabicFont w-auto w-100-mobile">
                                        <div class="d-flex justify-content-start align-items-center">
                                            <div class="greenDot px-1 me-2"></div>
                                            <span class="px-1 empcolor  {{ 'lang-arabic' | translate}} ">{{
                                                item.employeeNameAr
                                                }}</span>
                                            <span class="px-1 empcolor   {{ 'lang-english' | translate}} ">{{
                                                item.employeeNameEn
                                                }}</span>
                                        </div>
                                    </td>
                                    <td class="py-2 font-w-500 englishFont text-center w-auto">
                                        <span>{{ item.jobNameAr }}</span>
                                    </td>

                                    <td class="py-2 font-w-500 englishFont text-center w-auto">
                                        <span>{{ item.companyNameAr}}</span>
                                    </td>

                                    <td class="py-2 font-w-500 englishFont text-center w-auto">
                                        <span>{{ item.branchNameAr}}</span>
                                    </td>

                                    <td class="py-2 font-w-500 englishFont text-center w-auto">
                                        <span>
                                            {{ item.age }}
                                        </span>
                                    </td>

                                    <td class="py-2 font-w-500 englishFont text-center w-auto">
                                        <span>
                                            {{ item.nationNameAr }}
                                        </span>
                                    </td>

                                    <td class="py-2 font-w-500 englishFont text-center w-auto">
                                        <span *ngIf=" item.gender == 0">
                                            رجل
                                        </span>
                                        <span *ngIf=" item.gender == 1">
                                            امرأة
                                        </span>

                                    </td>


                                </tr>


                            </tbody>
                        </table>

                        <!-- not found data -->
                        <div *ngIf=" employeeList.length == 0 && !loadingData"
                            class="py-5 bg-white rounded-3 text-center">
                            <p class="fs-3 my-5 ">
                                بيانات البحث غير مطابقة لأي موظف
                            </p>
                        </div>
                    </div>


                    <!-- ==========================   start inner pagination   ========================== -->
                    <div class="text-center ">
                        <div class="pagination">
                            <button (click)="firstPage('details')" [disabled]="currentPageDetails === 1">الأولى</button>
                            <button (click)="prevPage('details')" [disabled]="currentPageDetails === 1">السابقة</button>

                            <button class="activePage" *ngFor="let page of pagesArrayDetails"
                                (click)="goToPage(page , 'details')"
                                [disabled]="currentPageDetails === page">{{page}}</button>

                            <button (click)="nextPage('details')"
                                [disabled]="currentPageDetails === totalPagesDetails">التالية</button>
                            <button (click)="lastPage('details')"
                                [disabled]="currentPageDetails === totalPagesDetails">الأخيرة</button>
                        </div>
                        <p class="small mt-1 fw-semibold">
                            page {{currentPageDetails}} of {{totalPagesDetails}}
                        </p>
                    </div>
                    <!-- ==========================   end inner pagination   ========================== -->

                </div>


            </div>
            <!-- ============ ----------- end all groub ----------- ============ -->


        </div>


    </div>


    <!-- ==========================   start employee info   ========================== -->
    <div *ngIf="showEmpModal"
        class="employee-Modal bg-danger w-100 vh-100 bg-black bg-opacity-75 position-fixed top-0 start-0 end-0">

        <app-fake-nav></app-fake-nav>
        <div class="row w-100  mx-0 vh-90 full-flex ">
            <div id="inner-Modal" class="col-md-8 mx-auto ">
                <div class="bg-white w-100 inner-Modal overflow-auto position-relative">

                    <p class="fs-3 py-3 my-0 bg-teal text-center"> {{'Dashboard.بيانات_الموظف' | translate}}</p>

                    <div class="d-flex justify-content-center bg-primary align-items-center  my-0">
                        <div class="full-flex  one-character bg-warning"> <img
                                src="./assets/images/compressed-images/wepb/145857007_307ce493-b254-4b2d-8ba4-d12c080d6651.webp"
                                class="w-100" alt=""> </div>
                        <div class="text-center">
                            <p class=" fs-2 {{ 'lang-arabic' | translate}}  ">{{employeeFullData.employeeNameAr}}</p>
                            <p class=" fs-2  {{ 'lang-english' | translate}} ">{{employeeFullData.employeeNameEn}}</p>
                        </div>

                        <!-- <p class="my-0 text-dark position-absolute bottom-0 start-0 ps-3 link-underline-dark">تعديل</p> -->
                        <!-- <button class="btn btn-outline-dark position-absolute bottom-0 start-0 ps-3">تعديل</button> -->

                    </div>
                    <div class="row mx-0 fw-light {{ 'direction' | translate}}">
                        <div class=" mx-0 col-lg-7">
                            <table class="">
                                <tbody class=" mx-0  ">
                                    <tr class="  ">
                                        <td class="fw-bold px-3 fs-5  py-3  "> {{'Dashboard.الاسم' | translate}} :</td>
                                        <td class=" fs-5   py-3  ">
                                            <span class=" {{ 'lang-arabic' | translate}}  ">
                                                {{employeeFullData.employeeNameAr}}</span>
                                            <span class=" {{ 'lang-english' | translate}} ">
                                                {{employeeFullData.employeeNameEn}}</span>
                                        </td>

                                    </tr>
                                    <tr class=" ">
                                        <td class="fw-bold px-3 fs-5  py-3  "> {{'Dashboard.الكود' | translate}} :</td>
                                        <td class=" fs-5   py-3  ">{{employeeFullData.employeeId}} </td>

                                    </tr>


                                    <tr class=" ">
                                        <td class="fw-bold px-3 fs-5  py-3 "> {{'Dashboard.الشركة' | translate}} :</td>
                                        <td class=" fs-5   py-3 ">
                                            <span class=" {{ 'lang-arabic' | translate}}  ">
                                                {{employeeFullData.companyNameAr}}</span>
                                            <span *ngIf="!employeeFullData.companyNameAr"
                                                class=" {{ 'lang-arabic' | translate}}  ">
                                                غير متوفر </span>


                                            <span class=" {{ 'lang-english' | translate}} ">
                                                {{employeeFullData.companyNameEn}}</span>
                                            <span *ngIf="!employeeFullData.companyNameEn"
                                                class=" {{ 'lang-english' | translate}} ">
                                                not found </span>
                                        </td>
                                    </tr>

                                    <tr class=" ">
                                        <td class="fw-bold px-3 fs-5  py-3 "> {{'Dashboard.الفرع' | translate}} :</td>
                                        <td class=" fs-5   py-3 ">
                                            <span class=" {{ 'lang-arabic' | translate}}  ">
                                                {{employeeFullData.branchNameAr}}</span>
                                            <span *ngIf="!employeeFullData.branchNameAr"
                                                class=" {{ 'lang-arabic' | translate}}  ">
                                                غير متوفر </span>


                                            <span class=" {{ 'lang-english' | translate}} ">
                                                {{employeeFullData.branchNameEn}}</span>
                                            <span *ngIf="!employeeFullData.branchNameEn"
                                                class=" {{ 'lang-english' | translate}} ">
                                                not found </span>
                                        </td>
                                    </tr>

                                    <tr class=" ">
                                        <td class="fw-bold px-3 fs-5  py-3 "> {{'Dashboard.الادارة' | translate}} :</td>
                                        <td class=" fs-5   py-3 "> <span class=" {{ 'lang-arabic' | translate}}  ">
                                                {{employeeFullData.manageNameAr}}</span>
                                            <span *ngIf="!employeeFullData.manageNameAr"
                                                class=" {{ 'lang-arabic' | translate}}  ">
                                                غير متوفر </span>


                                            <span class=" {{ 'lang-english' | translate}} ">
                                                {{employeeFullData.manageNameEn}}</span>
                                            <span *ngIf="!employeeFullData.manageNameEn"
                                                class=" {{ 'lang-english' | translate}} ">
                                                not found </span>
                                        </td>
                                    </tr>

                                    <tr class=" ">
                                        <td class="fw-bold px-3 fs-5  py-3 "> {{'Dashboard.الوظيفة' | translate}} :</td>
                                        <td class=" fs-5   py-3 ">
                                            <span class=" {{ 'lang-arabic' | translate}}  ">
                                                {{employeeFullData.jobNameAr}}</span>
                                            <span *ngIf="!employeeFullData.jobNameAr"
                                                class=" {{ 'lang-arabic' | translate}}  ">
                                                غير متوفر </span>

                                            <span class=" {{ 'lang-english' | translate}} ">
                                                {{employeeFullData.jobNameEn}}</span>
                                            <span *ngIf="!employeeFullData.jobNameEn"
                                                class=" {{ 'lang-english' | translate}} ">
                                                not found </span>
                                        </td>
                                    </tr>

                                    <tr class="col-md-3 ">
                                        <td class="fw-bold px-3 fs-5  py-3 "> {{'Dashboard.الكفيل' | translate}} :</td>
                                        <td class=" fs-5   py-3 ">
                                            <span class=" {{ 'lang-arabic' | translate}}  ">
                                                {{employeeFullData.kafilNameAr}}</span>
                                            <span *ngIf="!employeeFullData.kafilNameAr"
                                                class=" {{ 'lang-arabic' | translate}}  ">
                                                غير متوفر </span>

                                            <span class=" {{ 'lang-english' | translate}} ">
                                                {{employeeFullData.kafilNameEn}}</span>
                                            <span *ngIf="!employeeFullData.kafilNameEn"
                                                class=" {{ 'lang-english' | translate}} ">
                                                not found </span>
                                        </td>
                                    </tr>







                                </tbody>
                            </table>
                        </div>
                        <div class=" mx-0 col-lg-5">
                            <table class="">
                                <tbody class=" mx-0  w-100">
                                    <tr class=" col-md-3 ">
                                        <td class="fw-bold px-3 fs-5  py-3  "> {{'Dashboard.رقم_الجوال' | translate}} :
                                        </td>
                                        <td class=" fs-5   py-3  ">
                                            <span>
                                                {{employeeFullData.mobile}}
                                            </span>
                                            <span *ngIf="!employeeFullData.mobile" class="">
                                                {{'Dashboard.غير_متوفر' | translate}}</span>
                                        </td>


                                    </tr>
                                    <tr class="col-md-3 ">
                                        <td class="fw-bold px-3 fs-5  py-3  "> {{'Dashboard.جوال_احتياطي' | translate}}
                                            :</td>
                                        <td class=" fs-5   py-3  ">
                                            <span>
                                                {{employeeFullData.mobileEmergency}}
                                            </span>
                                            <span *ngIf="!employeeFullData.mobileEmergency">
                                                {{'Dashboard.غير_متوفر' | translate}}</span>
                                        </td>

                                    </tr>
                                    <tr class=" col-md-3">
                                        <td class="fw-bold px-3 fs-5  py-3  "> {{'Dashboard.رقم_الهوية' | translate}} :
                                        </td>
                                        <td class=" fs-5   py-3  ">
                                            <span>
                                                {{employeeFullData.employeePersonId}}
                                            </span>

                                            <span *ngIf="!employeeFullData.employeePersonId">
                                                {{'Dashboard.غير_متوفر' | translate}}</span>
                                        </td>

                                    </tr>
                                    <tr class="col-md-3 ">
                                        <td class="fw-bold px-3 fs-5  py-3 "> {{'Dashboard.انتهاء_الهوية' | translate}}
                                            :</td>
                                        <td class=" fs-5   py-3 ">
                                            <span>
                                                {{employeeFullData.employeePersonExpireDate}}
                                            </span>
                                            <span *ngIf="!employeeFullData.employeePersonExpireDate">
                                                {{'Dashboard.غير_متوفر' | translate}}</span>
                                        </td>
                                    </tr>

                                    <tr class="col-md-3 ">
                                        <td class="fw-bold px-3 fs-5  py-3 "> {{'Dashboard.فصيلة_الدم' | translate}} :
                                        </td>
                                        <td class=" fs-5   py-3 ">
                                            <span>
                                                {{employeeFullData.blood}}
                                            </span>
                                            <span *ngIf="!employeeFullData.blood">
                                                {{'Dashboard.غير_متوفر' | translate}}</span>
                                        </td>
                                    </tr>

                                    <tr class="col-md-3 ">
                                        <td class="fw-bold px-3 fs-5  py-3 "> {{'Dashboard.الجنسية' | translate}} :</td>
                                        <td class=" fs-5   py-3 "> <span class=" {{ 'lang-arabic' | translate}}  ">
                                                {{employeeFullData.nationNameAr}}</span>
                                            <span *ngIf="!employeeFullData.nationNameAr"
                                                class=" {{ 'lang-arabic' | translate}}  ">
                                                غير متوفر </span>

                                            <span class=" {{ 'lang-english' | translate}} ">
                                                {{employeeFullData.nationNameEn}}</span>
                                            <span *ngIf="!employeeFullData.nationNameEn"
                                                class=" {{ 'lang-english' | translate}} ">
                                                not found </span>
                                        </td>
                                    </tr>



                                </tbody>
                            </table>
                        </div>
                    </div>
                    <span (click)="closeEmpModal()">
                        <i class="fa-solid fa-xmark fa-3x closeBtn"></i>
                    </span>


                </div>
            </div>
        </div>


    </div>
    <!-- ==========================   end employee info   ========================== -->






    <!-- ==========================   start group info   ========================== -->
    <div *ngIf="showGroubModal" class="  w-100 vh-100 bg-black bg-opacity-75 position-fixed top-0 start-0 end-0">

        <app-fake-nav></app-fake-nav>
        <div class="row w-100  mx-0 vh-90 full-flex ">
            <div id="inner-Modal" class="col-md-11 mx-auto ">
                <div class="bg-white w-100  overflow-auto rounded-2 overflow-hidden position-relative">

                    <div class="py-3  bg-teal text-center">
                        <p class="fs-3 my-0"> <i class="fa-solid fa-users-rectangle"></i> {{OneGroupName}} </p>
                    </div>


                    <div class="emp-cards inner-Modal bg-secondary-subtle p-3 g-3 my-0 ">
                        <p class="small my-0 text-end px-5"> {{groubEmployeeList.length}} : عدد العاملين</p>
                        <div class="p-3 row g-3 ">
                            <div class="col-md-6 col-lg-6 col-xl-4 col-xxl-3 "
                                *ngFor="let item of groubEmployeeList; let i = index ">
                                <div (click)="getEmpDetails(item.employeeId)"
                                    class=" bg-white employee-card w-100 rounded full-flex flex-column ">
                                    <!-- <div class="full-flex pt-2"> <p [style.background-color]="randomColor[i]" class=" one-character" > أ </p> </div> -->
                                    <div class="full-flex pt-2 one-character">
                                        <img src="./assets/images/compressed-images/wepb/145857007_307ce493-b254-4b2d-8ba4-d12c080d6651.webp"
                                            class="w-100" alt="">
                                    </div>
                                    <div class="text-center">
                                        <!-- <p class="font-w-500 englishFont my-1">Ahmed mohamed ali</p> -->
                                        <!-- <p  class="font-w-500 englishFont my-1">{{item.employeeNameEn}}</p> -->
                                        <p class=" my-1">{{item.employeeNameAr}}</p>
                                        <!-- <p class="fw-medium arabicFont small my-0"> </p> -->
                                        <p *ngIf="item.jobNameAr" class="fw-medium arabicFont mb-2 small">
                                            {{item.jobNameAr}}
                                        </p>
                                        <p *ngIf="!item.jobNameAr" class="fw-medium arabicFont mb-2 small">مسؤول مخزن
                                        </p>
                                    </div>
                                </div>
                            </div>

                            <!-- loading content ---- (show only when data is loading) -->
                            <div *ngIf="GroubloadingData" class="emp-cards row g-3 ">
                                <div class="col-md-6 col-lg-4 col-xl-3 " *ngFor="let item of tempList ; let i = index ">
                                    <div class=" bg-white employee-card w-100 rounded full-flex flex-column">
                                        <div class="full-flex pt-2 one-character">
                                            <content-loader viewBox="0 0 200 200" [speed]="1" backgroundColor="#f2f2f2"
                                                foregroundColor="#e8e8e8">
                                                <svg:circle cx="96" cy="101" r="84" />
                                            </content-loader>
                                        </div>
                                        <div class="text-center  mt-1 w-75">
                                            <content-loader viewBox="0 0 300 40" [speed]="1" backgroundColor="#f2f2f2"
                                                foregroundColor="#e8e8e8">
                                                <svg:rect x="2" y="3" rx="0" ry="0" width="292" height="32" />
                                            </content-loader>
                                        </div>
                                        <div class="text-center  mb-1 w-50">
                                            <content-loader viewBox="0 0 300 25" [speed]="1" backgroundColor="#f2f2f2"
                                                foregroundColor="#e8e8e8">
                                                <svg:rect x="2" y="3" rx="0" ry="0" width="292" height="25" />
                                            </content-loader>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>





                    </div>















                    <span (click)="closeGroubModal()">
                        <i class="fa-solid fa-xmark fa-3x closeBtn"></i>
                    </span>


                </div>
            </div>
        </div>


    </div>
    <!-- ==========================   end group info   ========================== -->






</section>

<!-- ==========================   start pagination   ========================== -->
<div class="text-center ">
    <div class="pagination">
        <button (click)="firstPage( 'normal')" [disabled]="currentPage === 1">الأولى</button>
        <button (click)="prevPage( 'normal')" [disabled]="currentPage === 1">السابقة</button>

        <button class="activePage" *ngFor="let page of pagesArray" (click)="goToPage(page , 'normal')"
            [disabled]="currentPage === page">{{page}}</button>

        <button (click)="nextPage( 'normal')" [disabled]="currentPage === totalPages">التالية</button>
        <button (click)="lastPage( 'normal')" [disabled]="currentPage === totalPages">الأخيرة</button>
    </div>
    <p class="small mt-1 fw-semibold">
        page {{currentPage}} of {{totalPages}}
    </p>
</div>
<!-- ==========================   end pagination   ========================== -->




<!-- start form send to excel -->
<form [formGroup]="searchingForm">
    <div *ngIf="excelModal"
        class="vh-100 full-flex bg-black-opacity position-fixed top-0 start-0 end-0 bottom-0 overflow-hidden">
        <div class="w-50 img-Modal min-h-50 bg-white rounded-2 position-relative z-1 {{ 'direction' | translate }}">
            <p class=" text-center py-3 fs-3 englishFont">save as Excel</p>
            <div class="w-75 mx-auto min-h-60 d-flex justify-content-center flex-column">

                <label for="excelNameInput" class="py-3 justify-content-start  fs-5 ">
                    ادخل اسم الملف : </label>

                <input formControlName="excelNameInput" class="form-control form-control-lg" type="text"
                    name="excelNameInput" id="excelNameInput">




                <div *ngIf="searchingForm.get('excelNameInput')?.getError('required') && searchingForm.get('excelNameInput')?.touched"
                    class="text-center">
                    <p class="text-danger  py-3 ">
                        يجب ادخال اسم الملف
                    </p>
                </div>
                <button class="btn btn-primary px-5 py-2 my-3 d-block me-auto" (click)="sendToExcel()">
                    {{ 'page.حفظ' | translate }}
                </button>

            </div>
            <span (click)="closeExcelForm()">
                <i class="fa-solid fa-xmark fa-2x closeBtn"></i>
            </span>
        </div>
    </div>
</form>
<!-- end form send to excel -->